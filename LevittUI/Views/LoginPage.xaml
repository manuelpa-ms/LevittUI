<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="LevittUI.Views.LoginPage"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodels="clr-namespace:LevittUI.ViewModels"
             x:DataType="viewmodels:LoginViewModel"
             Title="{Binding Title}"
             Shell.NavBarIsVisible="False">

    <ScrollView>
        <VerticalStackLayout Spacing="25" Padding="30,0" VerticalOptions="Center">
            
            <!-- Logo/Header -->
            <Label Text="ðŸ  Home Automation"
                   FontSize="32"
                   FontAttributes="Bold"
                   HorizontalOptions="Center"
                   TextColor="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource White}}" />

            <Label Text="Connect to your smart home system"
                   FontSize="16"
                   HorizontalOptions="Center"
                   TextColor="{AppThemeBinding Light={StaticResource Gray600}, Dark={StaticResource Gray300}}"
                   Margin="0,0,0,20" />

            <!-- Server Address -->
            <Border StrokeThickness="1"
                    Stroke="{AppThemeBinding Light={StaticResource Gray200}, Dark={StaticResource Gray500}}"
                    StrokeShape="RoundRectangle 8">
                <Entry x:Name="ServerEntry"
                       Text="{Binding ServerAddress}"
                       Placeholder="Server IP Address"
                       Keyboard="Url"
                       BackgroundColor="Transparent"
                       Margin="10,5" />
            </Border>

            <!-- Username -->
            <Border StrokeThickness="1"
                    Stroke="{AppThemeBinding Light={StaticResource Gray200}, Dark={StaticResource Gray500}}"
                    StrokeShape="RoundRectangle 8">
                <Entry x:Name="UsernameEntry"
                       Text="{Binding Username}"
                       Placeholder="Username"
                       BackgroundColor="Transparent"
                       Margin="10,5" />
            </Border>

            <!-- Password -->
            <Border StrokeThickness="1"
                    Stroke="{AppThemeBinding Light={StaticResource Gray200}, Dark={StaticResource Gray500}}"
                    StrokeShape="RoundRectangle 8">
                <Entry x:Name="PasswordEntry"
                       Text="{Binding Password}"
                       Placeholder="Password"
                       IsPassword="True"
                       BackgroundColor="Transparent"
                       Margin="10,5" />
            </Border>

            <!-- Login Button -->
            <Button x:Name="LoginBtn"
                    Text="Connect"
                    Command="{Binding LoginCommand}"
                    IsEnabled="{Binding IsBusy, Converter={StaticResource InvertedBoolConverter}}"
                    BackgroundColor="{StaticResource Primary}"
                    TextColor="White"
                    HeightRequest="50"
                    CornerRadius="8"
                    Margin="0,10,0,0" />

            <!-- Loading Indicator -->
            <ActivityIndicator IsVisible="{Binding IsBusy}"
                               IsRunning="{Binding IsBusy}"
                               Color="{StaticResource Primary}"
                               HeightRequest="30" />

            <!-- Status Message -->
            <Label Text="{Binding StatusMessage}"
                   IsVisible="{Binding StatusMessage, Converter={StaticResource StringToBoolConverter}}"
                   HorizontalOptions="Center"
                   TextColor="{AppThemeBinding Light={StaticResource Gray600}, Dark={StaticResource Gray300}}"
                   Margin="0,10,0,0" />

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>
